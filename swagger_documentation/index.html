<!DOCTYPE html>
<html>
<head>
    <title>Figshare documentation</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <!--style type="text/css"></style-->

    <link href="css/index.css" rel="stylesheet"/>
    <link href='css/standalone.css' rel='stylesheet'/>
    <link href='css/api-explorer.css' rel='stylesheet' type='text/css'/>
    <link href='css/screen.css' media='screen' rel='stylesheet' type='text/css'/>

    <script src='lib/jquery-1.8.0.min.js' type='text/javascript'></script>
    <script src='lib/jquery.slideto.min.js' type='text/javascript'></script>
    <script src='lib/jquery.wiggle.min.js' type='text/javascript'></script>
    <script src='lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
    <script src='lib/handlebars-2.0.0.js' type='text/javascript'></script>
    <script src='lib/underscore-min.js' type='text/javascript'></script>
    <script src='lib/backbone-min.js' type='text/javascript'></script>
    <script src='lib/figshare.js' type='text/javascript'></script>
    <script src='swagger-ui.js' type='text/javascript'></script>
    <script src='lib/jsoneditor.js' type='text/javascript'></script>
    <script src='lib/highlight.7.3.pack.js' type='text/javascript'></script>
    <script src='lib/marked.js' type='text/javascript'></script>
    <script src='lib/swagger-oauth.js' type='text/javascript'></script>
    <script src='lib/bootstrap.min.js' type='text/javascript'></script>

    <script type="text/javascript">
        jQuery.browser = jQuery.browser || {};
        (function () {
            jQuery.browser.msie = jQuery.browser.msie || false;
            jQuery.browser.version = jQuery.browser.version || 0;
            if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
                jQuery.browser.msie = true;
                jQuery.browser.version = RegExp.$1;
            }
        })();
    </script>

    <script type="text/javascript">
        $(function () {
            var url = window.location.search.match(/url=([^&]+)/);
            if (url && url.length > 1) {
                url = decodeURIComponent(url[1]);
            } else {
                url = window.location.toString().replace(/\/*#?.*/, '/swagger_parsed.json');
            }

            window.swaggerUi = new SwaggerUi({
                url: url,
                dom_id: "swagger-ui-container",
                supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch'],
                docExpansion: "none",
                onComplete: function (swaggerApi, swaggerUi) {
                    if (typeof initOAuth == "function") {

                        initOAuth({
                            clientId: "ffe7748a-3a3f-4860-a02a-42ab08e4fde2",
                            realm: "realm",
                            appName: "Swagger"
                        });

                    }

                    $('pre code').each(function (i, e) {
                        hljs.highlightBlock(e)
                    });

                    //$('.model-signature div.collapse').addClass('in');

                    if (swaggerUi.options.url) {
                        $('#input_baseUrl').val(swaggerUi.options.url);
                    }
                    if (swaggerUi.options.apiKey) {
                        $('#input_apiKey').val(swaggerUi.options.apiKey);
                    }

                    $("[data-toggle='tooltip']").tooltip();


                    $('#input_apiKey').change(addApiKeyAuthorization);
                    addApiKeyAuthorization();


                    addSampleCodesToOperations();
                    addAdditionalDescriptions();
                },
                onFailure: function (data) {
                    log("Unable to Load SwaggerUI");
                },
                sorter: "alpha"
            });

            function addApiKeyAuthorization() {
                var key = encodeURIComponent($('#input_apiKey')[0].value);
                if (key && key.trim() != "") {
                    var apiKeyAuth = new SwaggerClient.ApiKeyAuthorization("authorization", "token " + key, "header");
                    window.swaggerUi.api.clientAuthorizations.add("authorization", apiKeyAuth);
                    log("added key " + key);
                }
            }

            $('#input_apiKey').change(addApiKeyAuthorization);
            // if you have an apiKey you would like to pre-populate on the page for demonstration purposes...
            /*
             var apiKey = "myApiKeyXXXX123456789";
             $('#input_apiKey').val(apiKey);
             */

            window.swaggerUi.load();

            function log() {
                if ('console' in window) {
                    console.log.apply(console, arguments);
                }
            }
        });
    </script>

    <script type="text/javascript">

        $(function () {

            $(window).scroll(function () {
                var sticky = $(".sticky-nav");

                i(sticky);
                r(sticky);

                function n() {
                    return window.matchMedia("(min-width: 992px)").matches
                }

                function e() {
                    n() ? sticky.parents(".sticky-nav-placeholder").removeAttr("style") : sticky.parents(".sticky-nav-placeholder").css("min-height", sticky.outerHeight())
                }

                function i(n) {
                    n.hasClass("fixed") || (navOffset = n.offset().top);
                    e();
                    $(window).scrollTop() > navOffset ? $(".modal.in").length || n.addClass("fixed") : n.removeClass("fixed")
                }

                function r(e) {
                    function i() {
                        var i = $(window).scrollTop(), r = e.parents(".sticky-nav");
                        return r.hasClass("fixed") && !n() && (i = i + r.outerHeight() + 40), i
                    }

                    function r(e) {
                        var t = o.next("[data-endpoint]"), n = o.prev("[data-endpoint]");
                        return "next" === e ? t.length ? t : o.parent().next().find("[data-endpoint]").first() : "prev" === e ? n.length ? n : o.parent().prev().find("[data-endpoint]").last() : []
                    }

                    var nav = e.find("[data-navigator]");
                    if (nav.find("[data-endpoint][data-selected]").length) {
                        var o = nav.find("[data-endpoint][data-selected]"),
                            a = $("#" + o.attr("data-endpoint")),
                            s = a.offset().top,
                            l = (s + a.outerHeight(), r("next")),
                            u = r("prev");
                        if (l.length) {
                            {
                                var d = $("#" + l.attr("data-endpoint")), f = d.offset().top;
                                f + d.outerHeight()
                            }
                            i() >= f && c(l)
                        }
                        if (u.length) {
                            var p = $("#" + u.attr("data-endpoint")),
                            g = u.offset().top;
                            v = (g + p.outerHeight(), 100);
                            i() < s - v && c(u)
                        }
                    }
                }

                function s() {
                    var e = $(".sticky-nav [data-navigator]"),
                        n = e.find("[data-endpoint]").first();
                    n.attr("data-selected", "");
                    u.find("[data-selected-value]").html(n.text())
                }

                function c(e) {
                    {
                        var n = $(".sticky-nav [data-navigator]");
                        $("#" + e.attr("data-endpoint"))
                    }
                    n.find("[data-resource]").removeClass("active");
                    n.find("[data-selected]").removeAttr("data-selected");
                    e.closest("[data-resource]").addClass("active");
                    e.attr("data-selected", "");
                    sticky.find("[data-selected-value]").html(e.text())
                }
            });

        });
    </script>

    <script type="text/javascript">
        $(function () {
            $("[data-toggle='tooltip']").tooltip();
        });
    </script>

</head>

<body class="page-docs" style="zoom: 1;">
<header class="site-header">
    <nav role="navigation" class="navbar navbar-default">
        <div class="container">
            <div class="navbar-header">
                <button type="button" data-toggle="collapse" data-target="#navbar-collapse" class="navbar-toggle"><span
                        class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span
                        class="icon-bar"></span><span class="icon-bar"></span></button>
                <h1 class="navbar-brand"><a href="http://swagger.io"><span>Figshare documentation</span></a></h1>
            </div>
            <div id="navbar-collapse" class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-left">
                    <li class="li-why"><a href="http://swagger.io" style="font-size: 25px; padding-left: 0px"> API documentation</a></li>

                </ul>
            </div>
        </div>
    </nav>
</header>

<section class="content">
    <div id="api2-explorer">
        <div class="swagger-section page-docs" style="zoom: 1">
            <div class="main-section">
                <div id="swagger-ui-container" class="swagger-ui-wrap">
                </div>
            </div>
        </div>
    </div>
    <div class="hidden_descriptions" style="display: none;">
      <div id="description_search_intro">
        <h2 id="introductory-considerations">Introductory considerations</h2>
        <p>Searching the figshare website can be performed either by using the front-end interface or by using the API we provide. Either way, the search query will be analyzed and sent to a search engine built by figshare on top of the open source <a href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a> server.
        In the following document, we will try to detail the type of searches one may perform and the results one should expect from the search engine. The environment used for demonstrating the figshare search feature is comprised of six research documents, scraped for this purpose from the archives of the <a href="https://www.plos.org/">Public Library of Open Science</a>. For reference purposes, we provide the links to the articles below:
        <em> <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0127223">Article 1</a>
        </em> <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a>
        <em> <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0014098">Article 3</a>
        </em> <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a>
        <em> <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0111421">Article 5</a>
        </em> <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0112540">Article 6</a></p>
        <p>The actual article content is indexed and analyzed from the first part of each article's introduction, the tags are the subject areas, and the categories are parsed from the article's .xml file, and are the same as the categories that appear on the figshare page corresponding to the article.</p>
      </div>
      <div id="description_search_general">
        <h2 id="general-search-engine-featurescharacteristics">General search engine features/characteristics</h2>
        <ol>
        <li><em><strong>Stemming</strong></em> of words:</li>
        <li>All indexed words are stemmed, so, search queries like <em>process</em>/<em>processes</em>/<em>processing</em> are equivalent.</li>
        <li><em><strong>Stopword</strong></em> elimination:</li>
        <li>Stopwords like prepositions for instance are not indexed by the search engine, so, search queries like "just in time"/"just on time"/"just of time" are equivalent.</li>
        </ol>
        <blockquote>
        <p>Please note however that, even if the stopwords do not get indexed, in the case of the phrase search detailed below, the fact that a stopword exists somewhere in the actual phrase does matter. Thus, search queries like "standing on the table"/"standing table" are not equivalent. </p>
        </blockquote>
      </div>
      <div id="description_search_types">
        <h2 id="search-types-and-expected-results">Search types and expected results</h2>
        <h3 id="general-term-search">General term search</h3>
        <p>This is the basic type of search one can perform on the figshare website or API, and it works pretty much as expected, with documents returned in the order of relevance as follows: documents where the query term appears more times are ranked higher. All article fields (in this case: title, description, tags, categories) are taken into consideration.</p>
        <h4 id="example">Example:</h4>
        <h5 id="query-string-therapy">Query string: "therapy"</h5>
        <h5 id="return-results-with-relevant-paragraphstagscategories">Return results with relevant paragraphs/tags/categories:</h5>
        <ol>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a></li>
        <li><em>Title</em>: A National Survey of Teachers on Antiretroviral <em><strong>Therapy</strong></em> in Malawi: Access, Retention in <em><strong>Therapy</strong></em> and Survival</li>
        <li><em>Description</em>: [...] Malawi is scaling up antiretroviral <em><strong>therapy</strong></em> (ART) (...)</li>
        <li><em>Description</em>: [...] retention in <em><strong>therapy</strong></em> and survival (...)</li>
        <li><em>Tags</em>: Antiretroviral <em><strong>therapy</strong></em></li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a></li>
        <li><em>Title</em>: Uptake of WHO Recommendations for First-Line Antiretroviral <em><strong>Therapy</strong></em> in Kenya, Uganda, and Zambia</li>
        <li><em>Description</em>: [...] first-line antiretroviral <em><strong>therapies</strong></em> (ART) (...)</li>
        <li><em>Description</em>: [...] TDF combined <em><strong>therapy</strong></em> offers (...) </li>
        <li><em>Description</em>: [...] TDF-based <em><strong>therapy</strong></em> as the preferred option with AZT-based <em><strong>therapies</strong></em> listed as alternatives. (...)</li>
        <li><em>Description</em>: [...] triple combination <em><strong>therapies</strong></em> containing AZT and TDF. (...)</li>
        <li><em>Description</em>: [...] lower prices for AZT and TDF combination <em><strong>therapy</strong></em>, (...)</li>
        <li><em>Description</em>: [...] more expensive than d4T-based <em><strong>therapies</strong></em>, respectively.  (...)</li>
        <li><em>Description</em>: [...] AZT- and TDF-based <em><strong>therapies</strong></em>, (...)</li>
        <li><em>Tags</em>: Antiretroviral <em><strong>therapy</strong></em></li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0014098">Article 3</a></li>
        <li><em>Description</em>: [...] access to antiretroviral <em><strong>therapy</strong></em> (ART) (...)</li>
        <li><em>Description</em>: [...] life-long HIV <em><strong>therapy</strong></em> with limited (...)</li>
        <li><em>Tags</em>: Antiretroviral <em><strong>therapy</strong></em></li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0111421">Article 5</a></li>
        <li><em>Description</em>: [...] Antiretroviral <em><strong>therapy</strong></em> (ART) is effective (...)</li>
        <li><em>Tags</em>: Antiretroviral <em><strong>therapy</strong></em></li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0127223">Article 1</a></li>
        <li><em>Tags</em>: Antiretroviral <em><strong>therapy</strong></em></li>
        </ol>
        <blockquote>
        <p>Please note that <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a> is ranked higher than <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a>, even though the latter has more occurences of our search term. The reason for this is that the former has two of those occurences in the title, and the scoring is weighed rather heavily towards the title field. </p>
        </blockquote>
        <hr />
        <h3 id="field-term-search">Field term search</h3>
        <p>This works exactly as the general term search described above, however, it is a bit more specialized, in that it allows selecting the field(s) in which to perform the search. As in the general term search above, documents where the query term appears more times are ranked higher. This type of search works on the figshare website, as well as in the API.</p>
        <h4 id="example_1">Example:</h4>
        <h5 id="query-string-title-therapy">Query string: "title: therapy"</h5>
        <h5 id="return-results-with-relevant-paragraphstagscategories_1">Return results with relevant paragraphs/tags/categories:</h5>
        <ol>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a></li>
        <li><em>Title</em>: A National Survey of Teachers on Antiretroviral <em><strong>Therapy</strong></em> in Malawi: Access, Retention in <em><strong>Therapy</strong></em> and Survival</li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a></li>
        <li><em>Title</em>: Uptake of WHO Recommendations for First-Line Antiretroviral <em><strong>Therapy</strong></em> in Kenya, Uganda, and Zambia</li>
        </ol>
        <blockquote>
        <p>Please note that articles 1, 3 and 5 do not appear in the search results anymore, as just the items with the word <em>therapy</em> in the title are returned.</p>
        </blockquote>
        <hr />
        <h3 id="general-multi-term-search">General multi-term search</h3>
        <p>This is the general multi-word search that returns documents that contain at least one of the query terms. This works like a boolean "OR" search, and ranking rules are the same as the types of searches listed above. This type of search works on the figshare website, as well as in the API.</p>
        <h4 id="example_2">Example:</h4>
        <h5 id="query-string-verticality-endorse-progress">Query string: "verticality endorse progress"</h5>
        <h5 id="return-results-with-relevant-paragraphstagscategories_2">Return results with relevant paragraphs/tags/categories:</h5>
        <ol>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0127223">Article 1</a></li>
        <li><em>Description</em>: [...] Initially, the South African National Department of Health <em><strong>endorsed</strong></em> a <em><strong>vertical</strong></em> ART (...)</li>
        <li><em>Description</em>: [...] system able to signpost programme <em><strong>progress</strong></em> and performance (...)</li>
        <li><em>Description</em>: [...] These <em><strong>vertical</strong></em> M&amp;E systems ran parallel (...)</li>
        <li><em>Description</em>: [...] Kawonga and colleagues discuss the limitations inherent to such a <em><strong>vertical</strong></em> (...)</li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a></li>
        <li><em>Description</em>: [...] this recommendation, stating that countries should take steps to <em><strong>progressively</strong></em> reduce (...)</li>
        </ol>
        <hr />
        <h3 id="field-multi-term-search">Field multi-term search</h3>
        <p>This works like the general multi-term search described above, only it allows specifying the field(s) on which to perform the search. Ranking rules are the same as the types of searches listed above. This type of search works on the figshare website, as well as in the API.</p>
        <h4 id="example_3">Example:</h4>
        <h5 id="query-string-title-antiretroviral-therapies">Query string: "title: antiretroviral therapies"</h5>
        <h5 id="return-results-with-relevant-paragraphstagscategories_3">Return results with relevant paragraphs/tags/categories:</h5>
        <ol>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a></li>
        <li><em>Title</em>: A National Survey of Teachers on <em><strong>Antiretroviral Therapy</strong></em> in Malawi: Access, Retention in <em><strong>Therapy</strong></em> and Survival</li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a></li>
        <li><em>Title</em>: Uptake of WHO Recommendations for First-Line <em><strong>Antiretroviral Therapy</strong></em> in Kenya, Uganda, and Zambia</li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0127223">Article 1</a></li>
        <li><em>Title</em>: Implementation of an Electronic Monitoring and Evaluation System for the <em><strong>Antiretroviral</strong></em> Treatment Programme in the Cape Winelands District, South Africa: A Qualitative Evaluation</li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0014098">Article 3</a></li>
        <li><em>Title</em>: Diminishing Availability of Publicly Funded Slots for <em><strong>Antiretroviral</strong></em> Initiation among HIV-Infected ART-Eligible Patients in Uganda</li>
        </ol>
        <hr />
        <h3 id="general-compound-term-search">General compound term search</h3>
        <p>This is the equivalent of a boolean "AND" search and returns only the documents with occurences of all of the words contained in the search string. Ranking rules are unchanged with regard to the search types described above. This type of search works on the figshare website, as well as in the API.</p>
        <h4 id="example_4">Example:</h4>
        <h5 id="query-string-antiretroviral-therapies">Query string: "antiretroviral, therapies"</h5>
        <h5 id="return-results-with-relevant-paragraphstagscategories_4">Return results with relevant paragraphs/tags/categories:</h5>
        <ol>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a></li>
        <li><em>Title</em>: A National Survey of Teachers on <em><strong>Antiretroviral Therapy</strong></em> in Malawi: Access, Retention in <em><strong>Therapy</strong></em> and Survival</li>
        <li><em>Description</em>: [...] <em><strong>antiretroviral therapy</strong></em> (ART) (...)</li>
        <li><em>Description</em>: [...] access, retention in <em><strong>therapy</strong></em> and survival for subgroups of the population. We have (...)</li>
        <li><em>Tags</em>: <em><strong>Antiretroviral therapy</strong></em></li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a></li>
        <li><em>Title</em>: Uptake of WHO Recommendations for First-Line <em><strong>Antiretroviral Therapy</strong></em> in Kenya, Uganda, and Zambia</li>
        <li><em>Description</em>: [...] to transition away from first-line <em><strong>antiretroviral therapies</strong></em> (ART) containing stavudine (...)</li>
        <li><em>Description</em>: [...] the likelihood of drug resistance. TDF combined <em><strong>therapy</strong></em> offers an additional benefit (...)</li>
        <li><em>Description</em>: [...] WHO consolidated guidelines on the use of ART named a TDF-based <em><strong>therapy</strong></em> (...)</li>
        <li><em>Description</em>: [...] AZT-based <em><strong>therapies</strong></em> listed as alternatives (...)</li>
        <li><em>Description</em>: [...] combination <em><strong>therapies</strong></em> containing AZT and TDF</li>
        <li><em>Tags</em>: <em><strong>Antiretroviral therapy</strong></em></li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0127223">Article 1</a></li>
        <li><em>Title</em>: Implementation of an Electronic Monitoring and Evaluation System for the <em><strong>Antiretroviral</strong></em> Treatment Programme in the Cape Winelands District, South Africa: A Qualitative Evaluation</li>
        <li><em>Description</em>: [...] South Africa's <em><strong>antiretroviral</strong></em> treatment (ART) programme (...)</li>
        <li><em>Tags</em>: <em><strong>Antiretroviral therapy</strong></em></li>
        <li><em>Tags</em>: <em><strong>antiretrovirals</strong></em></li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0014098">Article 3</a></li>
        <li><em>Title</em>: Diminishing Availability of Publicly Funded Slots for <em><strong>Antiretroviral</strong></em> Initiation among HIV-Infected ART-Eligible Patients in Uganda</li>
        <li><em>Description</em>: [...] about the future of access to <em><strong>antiretroviral therapy</strong></em> (...)</li>
        <li><em>Description</em>: [...] the feasibility of implementing life-long HIV <em><strong>therapy</strong></em> with limited health care infrastructure (...)</li>
        <li><em>Tags</em>: <em><strong>Antiretroviral therapy</strong></em></li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0111421">Article 5</a></li>
        <li><em>Description</em>: [...] <em><strong>Antiretroviral therapy</strong></em> (ART) is effective in reducing maternal (...)</li>
        <li><em>Tags</em>: <em><strong>Antiretroviral therapy</strong></em></li>
        </ol>
        <blockquote>
        <p>Please note that, just like in the case of the general term search, <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a> is ranked higher than <a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a>, even though we can see more occurences of the query string words in the latter. The reason, just like above, is the weighing applied on the title field, deemed more important than the description field.</p>
        </blockquote>
        <hr />
        <h3 id="field-compound-term-search">Field compound term search</h3>
        <p>This works like the general compound term search above, only it allows specifying the field(s) on which to perform the search. Ranking rules are unchanged with regard to the search types described above. This type of search works on the figshare website, as well as in the API.</p>
        <h4 id="example_5">Example:</h4>
        <h5 id="query-string-title-antiretroviral-therapies_1">Query string: "title: antiretroviral, therapies"</h5>
        <h5 id="return-results-with-relevant-paragraphstagscategories_5">Return results with relevant paragraphs/tags/categories:</h5>
        <ol>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a></li>
        <li><em>Title</em>: A National Survey of Teachers on <em><strong>Antiretroviral Therapy</strong></em> in Malawi: Access, Retention in <em><strong>Therapy</strong></em> and Survival</li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a></li>
        <li><em>Title</em>: Uptake of WHO Recommendations for First-Line <em><strong>Antiretroviral Therapy</strong></em> in Kenya, Uganda, and Zambia</li>
        </ol>
        <hr />
        <h3 id="general-phrase-search">General phrase search</h3>
        <p>This is the most restrictive type of search, as it returns only those documents in which an occurence of the full query string (word ordering matters) is found. Ranking rules are unchanged with regard to the search types described above. This type of search works on the figshare website, as well as in the API.</p>
        <h4 id="example_6">Example:</h4>
        <h5 id="query-string-antiretroviral-therapy-art">Query string: " 'antiretroviral therapy (ART)' "</h5>
        <h5 id="return-results-with-relevant-paragraphstagscategories_6">Return results with relevant paragraphs/tags/categories:</h5>
        <ol>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a></li>
        <li><em>Description</em>: [...] <em><strong>antiretroviral therapy (ART)</strong></em> [6]. Data on all ART patients (...)</li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0120350">Article 2</a></li>
        <li><em>Description</em>: [...] to transition away from first-line <em><strong>antiretroviral therapies (ART)</strong></em> containing stavudine (...)</li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0111421">Article 5</a></li>
        <li><em>Description</em>: [...] service needs. <em><strong>Antiretroviral therapy (ART)</strong></em> is effective in reducing maternal (...)</li>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0014098">Article 3</a></li>
        <li><em>Description</em>: [...] have raised uncertainty about the future of access to <em><strong>antiretroviral therapy (ART)</strong></em> and the goal of universal access. (...)</li>
        </ol>
        <blockquote>
        <p>Please note that the ranking, in this case, takes into consideration individual term occurences in the documents, hence the ordering (remarkably similar to the ordering in the case of the general term search)</p>
        </blockquote>
        <hr />
        <h3 id="field-phrase-search">Field phrase search</h3>
        <p>This works like the general phrase search above, only it allows specifying the field(s) on which to perform the search. Ranking rules are unchanged with regard to the search types described above. This type of search works on the figshare website, as well as in the API.</p>
        <h4 id="example_7">Example:</h4>
        <h5 id="query-string-title-therapy-and-survival">Query string: "title 'therapy and survival' "</h5>
        <h5 id="return-results-with-relevant-paragraphstagscategories_7">Return results with relevant paragraphs/tags/categories:</h5>
        <ol>
        <li><a href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0000620">Article 4</a></li>
        <li><em>Title</em>: A National Survey of Teachers on Antiretroviral Therapy in Malawi: Access, Retention in <em><strong>Therapy and Survival</strong></em></li>
        </ol>
      </div>
      <div id="description_oauth_intro">
        <p>Since January 2016 figshare supports the <a href="http://tutorials.jenkov.com/oauth2/index.html">OAuth 2.0 Authorization Framework</a>. If you're new to OAuth make sure you have at least a basic understanding before moving on.</p>
      </div>
      <div id="description_oauth_quick">
        <h2 id="quick-guide">Quick guide</h2>
        <p>To receive a client id and secret you need to register an application in
        our system. You can easily do this from the <a href="https://figshare.com/account/applications">figshare applications
        page</a> in your account.</p>
        <h3 id="authorization-endpoint">Authorization endpoint</h3>
        <p>The authorization endpoint is located at
        <code>https://figshare.com/account/applications/authorize</code>. The endpoint
        supports both
        <a href="http://tools.ietf.org/html/rfc6749#section-4.1.1">authorization code grant</a> and <a href="http://tools.ietf.org/html/rfc6749#section-4.2">implicit grant</a>.</p>
        <h4 id="request-params">Request params</h4>
        <ul>
        <li><code>client_id</code></li>
        <li><code>response_type</code></li>
        <li><code>scope</code></li>
        <li><code>state</code></li>
        <li><code>redirect_uri</code></li>
        </ul>
        <h4 id="response-params">Response params</h4>
        <p>User is redirected back to <code>redirect_uri</code> with the following params
        atted to the query:</p>
        <p><strong>Success</strong> as described in <a href="http://tools.ietf.org/html/rfc6749#section-4.1.2">rfc6749#section-4.1.2</a> or <a href="http://tools.ietf.org/html/rfc6749#section-4.2.2">rfc6749#section-4.2.2</a>:</p>
        <ul>
        <li><code>code</code></li>
        <li><code>state</code></li>
        </ul>
        <p><strong>Error</strong> as described in <a href="http://tools.ietf.org/html/rfc6749#section-4.1.2.1">rfc6749#4.1.2.1</a>:</p>
        <ul>
        <li><code>error</code></li>
        <li><code>error_description</code></li>
        </ul>
        <h3 id="token-endpoint">Token endpoint</h3>
        <p>The token endpoint is located at <code>https://api.figshare.com/v2/token</code>.
        In order to receive an access token you need to make a <code>POST</code> request.</p>
        <p>To get info about an existing access token use the <code>GET</code> method with the usual authorization means.</p>
        <h4 id="request">Request</h4>
        <p>Then endpoint accepts both <code>application/x-www-form-urlencoded</code> and
        <code>application/json</code> content types. It will only respond with JSON
        content.</p>
        <ul>
        <li><code>client_id</code></li>
        <li><code>client_secret</code></li>
        <li><code>grant_type</code></li>
        </ul>
        <p>and, based on the value of <code>grant_type</code>:</p>
        <ul>
        <li><code>code</code></li>
        <li><code>refresh_token</code></li>
        <li><code>username</code></li>
        <li><code>password</code></li>
        </ul>
        <h5 id="response">Response</h5>
        <p><strong>Successful responses are always <code>200</code> and failed ones are always <code>400</code>,
        even for failed authorization.</strong></p>
        <p><strong>Success</strong> response is a JSON as described in <a href="http://tools.ietf.org/html/rfc6749#section-5.1">http://tools.ietf.org/html/rfc6749#section-5.1</a>.</p>
        <ul>
        <li><code>access_token</code></li>
        <li><code>token_type</code></li>
        <li><code>expires_in</code></li>
        <li><code>refresh_token</code></li>
        <li><code>scope</code> - <em>not available yet</em></li>
        </ul>
        <p><strong>Error</strong> response as described in <a href="http://tools.ietf.org/html/rfc6749#section-5.2">rfc6749#section-5.2</a></p>
      </div>
      <div id="description_oauth_scope">
        <h2 id="scope">Scope</h2>
        <p>Currently the only scope available is <code>all</code> which grants full access to
        the resource owner's data. We're working on a more flexible approach.</p>
      </div>
      <div id="description_oauth_grant">
        <h2 id="grant-types">Grant Types</h2>
        <p>The supported grant types at this moment are:</p>
        <ul>
        <li><code>authorization_code</code></li>
        <li><code>refresh_token</code></li>
        <li><code>password</code></li>
        </ul>
      </div>
      <div id="description_intro">
        <p>The definite guide for figshare and the home of all user documentation.</p>
        <p>The sources for these pages are publicly hosted on github at figshare/user_documentation and it's open for contributions. If you feel you can improve anything, fix a mistake, expand on a topic, feel free to open up a pull request.</p>
        <p>Looking for the old docs? <a href="http://api.figshare.com/docs">http://api.figshare.com/docs</a></p>
        <h3>Base URL</h3>
        <p>All URLs referenced in the documentation have the following base:</p>
        <pre>https://api.figshare.com/v2</pre>
        <p>The Figshare REST API is served over HTTPS. To ensure data privacy, unencrypted HTTP is not supported.</p>
        <h3>Authentication</h3>
        <p>Figshare supports the OAuth 2.0 Authorization Framework. See more about it in the <a href="#description_Oauth">OAuth</a> section.
      </div>
      <div id="other_sample_codes">
        <h4>You can download one of the following complete clients:</h4>
        <ul class="other_sample_codes_list">
          <li><a target="_blank" href="/clients/java.zip">Java</a></li>
          <li><a target="_blank" href="/clients/csharp.zip">C#</a></li>
          <li><a target="_blank" href="/clients/php.zip">PHP</a></li>
          <li><a target="_blank" href="/clients/perl.zip">Perl</a></li>
          <li><a target="_blank" href="/clients/python.zip">Python</a></li>
          <li><a target="_blank" href="/clients/python-flask.zip">Python with Flask</a></li>
          <li><a target="_blank" href="/clients/go.zip">Golang</a></li>
          <li><a target="_blank" href="/clients/go-server.zip">Golang Server</a></li>
          <li><a target="_blank" href="/clients/javascript.zip">Javascript</a></li>
          <li><a target="_blank" href="/clients/javascript-closure-angular.zip">Javascript with Closure &amp; Angular</a></li>
          <li><a target="_blank" href="/clients/nodejs-server.zip">Node.js server</a></li>
          <li><a target="_blank" href="/clients/ruby.zip">Ruby</a></li>
          <li><a target="_blank" href="/clients/dynamic-html.zip">Dynamic Html Page</a></li>
          <li><a target="_blank" href="/clients/swift.zip">Swift</a></li>
          <li><a target="_blank" href="/clients/clojure.zip">Clojure</a></li>
          <li><a target="_blank" href="/clients/haskell.zip">Haskell</a></li>
        </ul>
      </div>
      <div id="description_upload_steps">
        <h3 id="steps-to-upload-file">Steps to upload file</h3>
        <ul>
          <li><a href="#initiate-new-file-upload-within-the-article">Initiate file upload</a> - this request returns an endpoint with file data</li>
          <li>Send a <code>GET</code> request to the <a href="#description_upload_api">Uploader Service</a> with the <code>upload_url</code> (which also contains the<code>upload_token</code>) provided in previous step and receive the number of file parts</li>
          <li>Upload / Delete / Retry uploading file parts until all parts are uploaded successfully</li>
          <li><a href="#complete-file-upload">Complete file upload</a></li>
        </ul>
      </div>
      <div id="description_upload_api">
        <h3 id="uploads-api">Uploader Service</h3>
        <h4 id="upload-status">Upload status</h4>
        <p>An upload status can be:</p>
        <ul>
        <li><code>PENDING</code> - waiting for it's parts to be uploaded</li>
        <li><code>COMPLETED</code> - all parts were uploaded and the file was assembled on the storage</li>
        <li><code>ABORTED</code> - canceled for some reason(user request, timeout, error)</li>
        </ul>
        <h4 id="endpoints">Endpoints</h4>
        <ul>
        <li><code>GET /upload/&lt;token&gt;</code> - get upload info</li>
        </ul>
        <p>Response:</p>
        <table class="docutils">
        <thead>
        <tr>
        <th>Status Code</th>
        <th>Explanation</th>
        <th>Body</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td>200 OK</td>
        <td>all good</td>
        <td><em>explained below</em></td>
        </tr>
        <tr>
        <td>500 Internal Server Error</td>
        <td>internal error</td>
        <td><em>empty</em></td>
        </tr>
        <tr>
        <td>404 Not Found</td>
        <td>unknown upload token</td>
        <td><em>empty</em></td>
        </tr>
        </tbody>
        </table>
        <p><strong>200 OK</strong></p>
        <p>Body:
          <code>js
          {
            token: "upload-token",
            name: "my-file.zip",
            size: 10249281,
            md5: "filemd5",  // as provided on upload creation
            status: "PENDING",
            parts: [
              {
              // upload parts -- see parts API for representation
              }
            ]
        }</code></p>
      </div>
      <div id="description_upload_parts_api">
        <h3 id="parts-api">Parts API</h3>
        <h4 id="part-status">Part status</h4>
        <ul>
        <li><code>PENDING</code> -- part is ready to be uploaded</li>
        <li><code>COMPLETE</code> -- part data has been complete and saved to storage</li>
        </ul>
        <h4 id="part-locking">Part locking</h4>
        <p>When a part is being uploaded it is being locked, by setting the
        <code>locked</code> flag to true. No changes/uploads can happen on this part from
        other requests.</p>
        <h4 id="byte-ranges">Byte ranges</h4>
        <p>The part range is specified by <code>startOffset</code> and <code>endOffset</code>. They
        indexes zero-based and inclusive. Example:</p>
        <p>Given:</p>
        <ul>
        <li>the following file data: "abcdefghij"</li>
        <li><code>part1</code> with <code>startOffset=0</code> and <code>endOffset=3</code></li>
        <li><code>part2</code> with <code>startOffset=4</code> and <code>endOffset=7</code></li>
        </ul>
        <p>Then:</p>
        <ul>
        <li><code>part1</code> is <code>abcd</code></li>
        <li><code>part2</code> is <code>efgh</code></li>
        </ul>
        <h4 id="endpoints_1">Endpoints</h4>
        <ul>
        <li><code>GET /upload/&lt;token&gt;/&lt;part_no&gt;</code> - get part info</li>
        </ul>
        <p>Responses:</p>
        <table>
        <thead>
        <tr>
        <th>Status Code</th>
        <th>Explanation</th>
        <th>Body</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td>200 OK</td>
        <td>all good</td>
        <td><em>explained below</em></td>
        </tr>
        <tr>
        <td>500 Internal Server Error</td>
        <td>internal error</td>
        <td><em>empty</em></td>
        </tr>
        <tr>
        <td>404 Not Found</td>
        <td>unknown upload token or part number</td>
        <td><em>empty</em></td>
        </tr>
        </tbody>
        </table>
        <p><strong>200 OK</strong></p>
        <p>Body:
          <code>js
          {
            partNo: 3,
            startOffset: 1024,
            endOffset: 2047,
            status: "PENDING",
            locked: false
          }</code></p>
        <ul>
        <li><code>PUT /upload/&lt;token&gt;/&lt;part_no&gt;</code> - receives part data</li>
        </ul>
        <p>The entire body of the request is piped as-is to S3. It is assumed that the
          body is the correct piece of the file, from <code>startOffset</code> to <code>endOffset</code></p>
        <p>While this requests is being processed the part is going to be in a
          locked state. The request can end with a <code>409</code> status code if a
          lock for the part could not be obtained.</p>
        <p><strong>Warning</strong> if content length is less than part size the request will
          timeout</p>
        <p>Responses:</p>
        <table>
        <thead>
        <tr>
        <th>Status Code</th>
        <th>Explanation</th>
        <th>Body</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td>200 OK</td>
        <td>all good</td>
        <td><em>explained below</em></td>
        </tr>
        <tr>
        <td>500 Internal Server Error</td>
        <td>internal error</td>
        <td><em>empty</em></td>
        </tr>
        <tr>
        <td>404 Not Found</td>
        <td>unknown upload token or part number</td>
        <td><em>empty</em></td>
        </tr>
        <tr>
        <td>409 Conflict</td>
        <td>part data cannot be uploaded</td>
        <td><em>empty</em></td>
        </tr>
        </tbody>
        </table>
        <p><strong>200 OK</strong></p>
        <ul>
        <li><code>DELETE /upload/&lt;token&gt;/&lt;part_no&gt;</code> - reset part data</li>
        </ul>
        <p>This will reset the part to it's <code>PENDING</code> state and remove any
          storage meta.</p>
        <p>Responses:</p>
        <table>
        <thead>
        <tr>
        <th>Status Code</th>
        <th>Explanation</th>
        <th>Body</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td>200 Accepted</td>
        <td>all good</td>
        <td><em>empty</em></td>
        </tr>
        <tr>
        <td>500 Internal Server Error</td>
        <td>internal error</td>
        <td><em>empty</em></td>
        </tr>
        <tr>
        <td>404 Not Found</td>
        <td>unknown upload token or part number</td>
        <td><em>empty</em></td>
        </tr>
        <tr>
        <td>409 Conflict</td>
        <td>upload completed or part locked</td>
        <td><em>empty</em></td>
        </tr>
        </tbody>
        </table>
      </div>
      <div id="description_upload_example">
                <h1 id="example-upload-on-figshare">Example Upload on fig<strong>share</strong></h1>
                <p>To upload a file to the fig<strong>share</strong>, one needs to use the standard <em>fig<strong>share</strong> API</em>, coupled
                with the <em>fig<strong>share</strong> upload system API</em>.
                A full script that lists articles <em>before</em> and <em>after</em> the new <strong>article</strong> and <strong>file</strong> are created
                would look like this:</p>
                <pre><code class="python hljs"><span class="hljs-comment">#!/usr/bin/env python</span>

                <span class="hljs-keyword">import</span> hashlib
                <span class="hljs-keyword">import</span> json
                <span class="hljs-keyword">import</span> os

                <span class="hljs-keyword">import</span> requests
                <span class="hljs-keyword">from</span> requests.exceptions <span class="hljs-keyword">import</span> HTTPError


                BASE_URL = <span class="hljs-string">'https://api.figshare.com/v2/{endpoint}'</span>
                TOKEN = <span class="hljs-string">'&lt;insert access token here&gt;'</span>
                CHUNK_SIZE = <span class="hljs-number">1048576</span>

                FILE_PATH = <span class="hljs-string">'/path/to/work/directory/cat.obj'</span>
                TITLE = <span class="hljs-string">'A 3D cat object model'</span>


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">raw_issue_request</span><span class="hljs-params">(method, url, data=None, binary=False)</span>:</span>
                    headers = {<span class="hljs-string">'Authorization'</span>: <span class="hljs-string">'token '</span> + TOKEN}
                    <span class="hljs-keyword">if</span> data <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">None</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> binary:
                        data = json.dumps(data)
                    response = requests.request(method, url, headers=headers, data=data)
                    <span class="hljs-keyword">try</span>:
                        response.raise_for_status()
                        <span class="hljs-keyword">try</span>:
                            data = json.loads(response.content)
                        <span class="hljs-keyword">except</span> ValueError:
                            data = response.content
                    <span class="hljs-keyword">except</span> HTTPError <span class="hljs-keyword">as</span> error:
                        <span class="hljs-keyword">print</span> <span class="hljs-string">'Caught an HTTPError: {}'</span>.format(error.message)
                        <span class="hljs-keyword">print</span> <span class="hljs-string">'Body:\n'</span>, response.content
                        <span class="hljs-keyword">raise</span>

                    <span class="hljs-keyword">return</span> data


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">issue_request</span><span class="hljs-params">(method, endpoint, *args, **kwargs)</span>:</span>
                    <span class="hljs-keyword">return</span> raw_issue_request(method, BASE_URL.format(endpoint=endpoint), *args, **kwargs)


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">list_articles</span><span class="hljs-params">()</span>:</span>
                    result = issue_request(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'account/articles'</span>)
                    <span class="hljs-keyword">print</span> <span class="hljs-string">'Listing current articles:'</span>
                    <span class="hljs-keyword">if</span> result:
                        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> result:
                            <span class="hljs-keyword">print</span> <span class="hljs-string">u'  {url} - {title}'</span>.format(**item)
                    <span class="hljs-keyword">else</span>:
                        <span class="hljs-keyword">print</span> <span class="hljs-string">'  No articles.'</span>
                    <span class="hljs-keyword">print</span>


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_article</span><span class="hljs-params">(title)</span>:</span>
                    data = {
                        <span class="hljs-string">'title'</span>: title  <span class="hljs-comment"># You may add any other information about the article here as you wish.</span>
                    }
                    result = issue_request(<span class="hljs-string">'POST'</span>, <span class="hljs-string">'account/articles'</span>, data=data)
                    <span class="hljs-keyword">print</span> <span class="hljs-string">'Created article:'</span>, result[<span class="hljs-string">'location'</span>], <span class="hljs-string">'\n'</span>

                    result = raw_issue_request(<span class="hljs-string">'GET'</span>, result[<span class="hljs-string">'location'</span>])

                    <span class="hljs-keyword">return</span> result[<span class="hljs-string">'id'</span>]


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">list_files_of_article</span><span class="hljs-params">(article_id)</span>:</span>
                    result = issue_request(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'account/articles/{}/files'</span>.format(article_id))
                    <span class="hljs-keyword">print</span> <span class="hljs-string">'Listing files for article {}:'</span>.format(article_id)
                    <span class="hljs-keyword">if</span> result:
                        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> result:
                            <span class="hljs-keyword">print</span> <span class="hljs-string">'  {id} - {name}'</span>.format(**item)
                    <span class="hljs-keyword">else</span>:
                        <span class="hljs-keyword">print</span> <span class="hljs-string">'  No files.'</span>

                    <span class="hljs-keyword">print</span>


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_file_check_data</span><span class="hljs-params">(file_name)</span>:</span>
                    <span class="hljs-keyword">with</span> open(file_name, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> fin:
                        md5 = hashlib.md5()
                        size = <span class="hljs-number">0</span>
                        data = fin.read(CHUNK_SIZE)
                        <span class="hljs-keyword">while</span> data:
                            size += len(data)
                            md5.update(data)
                            data = fin.read(CHUNK_SIZE)
                        <span class="hljs-keyword">return</span> md5.hexdigest(), size


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initiate_new_upload</span><span class="hljs-params">(article_id, file_name)</span>:</span>
                    endpoint = <span class="hljs-string">'account/articles/{}/files'</span>
                    endpoint = endpoint.format(article_id)

                    md5, size = get_file_check_data(file_name)
                    data = {<span class="hljs-string">'name'</span>: os.path.basename(file_name),
                            <span class="hljs-string">'md5'</span>: md5,
                            <span class="hljs-string">'size'</span>: size}

                    result = issue_request(<span class="hljs-string">'POST'</span>, endpoint, data=data)
                    <span class="hljs-keyword">print</span> <span class="hljs-string">'Initiated file upload:'</span>, result[<span class="hljs-string">'location'</span>], <span class="hljs-string">'\n'</span>

                    result = raw_issue_request(<span class="hljs-string">'GET'</span>, result[<span class="hljs-string">'location'</span>])

                    <span class="hljs-keyword">return</span> result


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">complete_upload</span><span class="hljs-params">(article_id, file_id)</span>:</span>
                    issue_request(<span class="hljs-string">'POST'</span>, <span class="hljs-string">'account/articles/{}/files/{}'</span>.format(article_id, file_id))


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">upload_parts</span><span class="hljs-params">(file_info)</span>:</span>
                    url = <span class="hljs-string">'{upload_url}'</span>.format(**file_info)
                    result = raw_issue_request(<span class="hljs-string">'GET'</span>, url)

                    <span class="hljs-keyword">print</span> <span class="hljs-string">'Uploading parts:'</span>
                    <span class="hljs-keyword">with</span> open(FILE_PATH, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> fin:
                        <span class="hljs-keyword">for</span> part <span class="hljs-keyword">in</span> result[<span class="hljs-string">'parts'</span>]:
                            upload_part(file_info, fin, part)
                    <span class="hljs-keyword">print</span>


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">upload_part</span><span class="hljs-params">(file_info, stream, part)</span>:</span>
                    udata = file_info.copy()
                    udata.update(part)
                    url = <span class="hljs-string">'{upload_url}/{partNo}'</span>.format(**udata)

                    stream.seek(part[<span class="hljs-string">'startOffset'</span>])
                    data = stream.read(part[<span class="hljs-string">'endOffset'</span>] - part[<span class="hljs-string">'startOffset'</span>] + <span class="hljs-number">1</span>)

                    raw_issue_request(<span class="hljs-string">'PUT'</span>, url, data=data, binary=<span class="hljs-keyword">True</span>)
                    <span class="hljs-keyword">print</span> <span class="hljs-string">'  Uploaded part {partNo} from {startOffset} to {endOffset}'</span>.format(**part)


                <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>:</span>
                    <span class="hljs-comment"># We first create the article</span>
                    list_articles()
                    article_id = create_article(TITLE)
                    list_articles()
                    list_files_of_article(article_id)

                    <span class="hljs-comment"># Then we upload the file.</span>
                    file_info = initiate_new_upload(article_id, FILE_PATH)
                    <span class="hljs-comment"># Until here we used the figshare API; following lines use the figshare upload service API.</span>
                    upload_parts(file_info)
                    <span class="hljs-comment"># We return to the figshare API to complete the file upload process.</span>
                    complete_upload(article_id, file_info[<span class="hljs-string">'id'</span>])
                    list_files_of_article(article_id)


                <span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
                    main()
                </code></pre>
                    </div>
                    <div id="description_upload_output">
                <h2 id="output-of-script">Output of Script</h2>
                <p>This is an example of how the script would output on an account with no added articles or files yet.</p>
                <pre><code class="hljs stylus">Listing current articles:
                  No articles.

                Created <span class="hljs-tag">article</span>: https:<span class="hljs-comment">//api.figshare.com/v2/account/articles/2012182</span>

                Listing current articles:
                  https:<span class="hljs-comment">//api.figshare.com/v2/articles/2012182 - A 3D cat object model</span>

                Listing files <span class="hljs-keyword">for</span> <span class="hljs-tag">article</span> <span class="hljs-number">2012182</span>:
                  No files.

                Initiated file upload: https:<span class="hljs-comment">//api.figshare.com/v2/account/articles/2012182/files/3008150</span>

                Uploading parts:
                  Uploaded part <span class="hljs-number">1</span> from <span class="hljs-number">0</span> to <span class="hljs-number">213325</span>

                Listing files <span class="hljs-keyword">for</span> <span class="hljs-tag">article</span> <span class="hljs-number">2012182</span>:
                  <span class="hljs-number">3008150</span> - cat<span class="hljs-class">.obj</span>

                </code></pre>

      </div>
      <div id="description_oai_pmh">
        <h1 id="oai-pmh">OAI-PMH</h1>
        <p>fig<strong>share</strong> supports the Open Archives Initiative (OAI) and implements the
        <strong>OAI-PMH</strong> service to provide access to public articles metadata.
        For more detailed information, please refer to the
        <a href="https://www.openarchives.org/OAI/openarchivesprotocol.html">protocol specification</a>.</p>
      </div>
      <div id="description_oai_baseurl">
        <h2 id="base-url">Base URL</h2>
        <p>fig<strong>share</strong> OAI-PMH v2.0 implementation has at the following <strong>baseURL</strong>:
        <a href="https://api.figshare.com/v2/oai">https://api.figshare.com/v2/oai</a></p>
      </div>
      <div id="description_oai_itemarticle">
        <h2 id="item-article">Item == Article</h2>
        <p>An Item in the OAI-PMH interface is the most recent version of an article.</p>
      </div>
      <div id="description_oai_metadata">
        <h2 id="metadata-formats">Metadata formats</h2>
        <p>Currently, the supported formats are: <strong>Dublin Core</strong> (<em>oai_dc</em>), <strong>Datacite</strong> (<em>oai_datacite</em>), <strong>RDF</strong> (<em>rdf</em>), <strong>CERIF XML</strong> (<em>cerif</em>), and <strong>Qualified Dublin Core</strong> (<em>qdc</em>) (hasPart support).</p>
      </div>
      <div id="description_oai_datestamp">
        <h2 id="datestamps">Datestamps</h2>
        <p>Every record has a datestamp which is the published datetime of that article.
        The earliest datestamp is given in the <code>&lt;earliestDatestamp&gt;</code> element of the
        <a href="https://api.figshare.com/v2/oai?verb=Identify">Identify</a> response.</p>
      </div>
      <div id="description_oai_sets">
        <h2 id="sets">Sets</h2>
        <p>You can get a list of all the sets supported with the
        <a href="https://api.figshare.com/v2/oai?verb=ListSets">ListSets</a> verb.</p>
        <p>At this moment selectieve harvesting can be performed using sets representing:</p>
        <ul>
        <li>an <a href="https://api.figshare.com/v2/oai?verb=ListIdentifiers&amp;metadataPrefix=oai_dc&amp;set=item_type_7">item type</a></li>
        </ul>
        <pre><code>    ...
            &lt;header&gt;
              &lt;identifier&gt;oai:figshare.com:article/2001969&lt;/identifier&gt;
              &lt;datestamp&gt;2015-08-17T14:09:33Z&lt;/datestamp&gt;
              &lt;setSpec&gt;category_184&lt;/setSpec&gt;
              &lt;setSpec&gt;category_185&lt;/setSpec&gt;
              &lt;setSpec&gt;portal_15&lt;/setSpec&gt;
              &lt;setSpec&gt;item_type_7&lt;/setSpec&gt;
            &lt;/header&gt;
            ...
        </code></pre>

        <ul>
        <li>a <a href="https://api.figshare.com/v2/oai?verb=ListIdentifiers&amp;metadataPrefix=oai_dc&amp;set=portal_63">portal/institution</a></li>
        </ul>
        <pre><code>    ...
            &lt;header&gt;
              &lt;identifier&gt;oai:figshare.com:article/2009490&lt;/identifier&gt;
              &lt;datestamp&gt;2015-12-16T14:30:27Z&lt;/datestamp&gt;
              &lt;setSpec&gt;category_1&lt;/setSpec&gt;
              &lt;setSpec&gt;category_4&lt;/setSpec&gt;
              &lt;setSpec&gt;category_12&lt;/setSpec&gt;
              &lt;setSpec&gt;category_14&lt;/setSpec&gt;
              &lt;setSpec&gt;category_19&lt;/setSpec&gt;
              &lt;setSpec&gt;category_21&lt;/setSpec&gt;
              &lt;setSpec&gt;category_128&lt;/setSpec&gt;
              &lt;setSpec&gt;category_133&lt;/setSpec&gt;
              &lt;setSpec&gt;category_272&lt;/setSpec&gt;
              &lt;setSpec&gt;category_873&lt;/setSpec&gt;
              &lt;setSpec&gt;category_931&lt;/setSpec&gt;
              &lt;setSpec&gt;portal_63&lt;/setSpec&gt;
              &lt;setSpec&gt;item_type_6&lt;/setSpec&gt;
            &lt;/header&gt;
            ...
        </code></pre>

        <ul>
        <li>a <a href="https://api.figshare.com/v2/oai?verb=ListIdentifiers&amp;metadataPrefix=oai_dc&amp;set=category_150">category</a>:</li>
        </ul>
        <pre><code>    ...
            &lt;header&gt;
              &lt;identifier&gt;oai:figshare.com:article/2058654&lt;/identifier&gt;
              &lt;datestamp&gt;2015-12-27T23:40:01Z&lt;/datestamp&gt;
              &lt;setSpec&gt;category_54&lt;/setSpec&gt;
              &lt;setSpec&gt;category_55&lt;/setSpec&gt;
              &lt;setSpec&gt;category_56&lt;/setSpec&gt;
              &lt;setSpec&gt;category_57&lt;/setSpec&gt;
              &lt;setSpec&gt;category_58&lt;/setSpec&gt;
              &lt;setSpec&gt;category_59&lt;/setSpec&gt;
              &lt;setSpec&gt;category_145&lt;/setSpec&gt;
              &lt;setSpec&gt;category_146&lt;/setSpec&gt;
              &lt;setSpec&gt;category_147&lt;/setSpec&gt;
              &lt;setSpec&gt;category_148&lt;/setSpec&gt;
              &lt;setSpec&gt;category_149&lt;/setSpec&gt;
              &lt;setSpec&gt;category_150&lt;/setSpec&gt;
              &lt;setSpec&gt;category_492&lt;/setSpec&gt;
              &lt;setSpec&gt;category_493&lt;/setSpec&gt;
              &lt;setSpec&gt;category_494&lt;/setSpec&gt;
              &lt;setSpec&gt;category_496&lt;/setSpec&gt;
              &lt;setSpec&gt;category_497&lt;/setSpec&gt;
              &lt;setSpec&gt;category_498&lt;/setSpec&gt;
              &lt;setSpec&gt;category_499&lt;/setSpec&gt;
              &lt;setSpec&gt;category_500&lt;/setSpec&gt;
              &lt;setSpec&gt;category_501&lt;/setSpec&gt;
              &lt;setSpec&gt;category_502&lt;/setSpec&gt;
              &lt;setSpec&gt;item_type_6&lt;/setSpec&gt;
            &lt;/header&gt;
            ...
        </code></pre>

        <ul>
        <li>or a <a href="https://api.figshare.com/v2/oai?verb=ListIdentifiers&amp;metadataPrefix=oai_dc&amp;set=month_year_10_2016">month_year</a>:</li>
        </ul>
        <pre><code>    ...
            &lt;header&gt;
              &lt;identifier&gt;oai:figshare.com:article/2004335&lt;/identifier&gt;
              &lt;datestamp&gt;2016-10-31T11:14:47Z&lt;/datestamp&gt;
              &lt;setSpec&gt;category_215&lt;/setSpec&gt;
              &lt;setSpec&gt;category_239&lt;/setSpec&gt;
              &lt;setSpec&gt;portal_15&lt;/setSpec&gt;
              &lt;setSpec&gt;item_type_11&lt;/setSpec&gt;
            &lt;/header&gt;
            ...
        </code></pre>

      </div>
      <div id="description_oai_update_schedule">
          <h2 id="update-schedule">Update schedule</h2>
          <p>Usually, metadata for a published article becomes available in a few moments
          after its publication on fig<strong>share</strong>.</p>
      </div>
      <div id="description_oai_pagination">
        <h2 id="pagination-resumption-token-expiration">Pagination &amp; Resumption Token Expiration</h2>
        <p>Results for <strong>ListSets</strong>, <strong>ListIdentifiers</strong>, <strong>ListRecords</strong> are paginated.
        To request the next page, use the resumptionToken value provided for the
        current page. You can read more
        <a href="https://www.openarchives.org/OAI/openarchivesprotocol.html#FlowControl">here</a>,
        but your harvesting software system should be able to use resumption tokens with
        no problem.</p>
        <p>One particularity on fig<strong>share</strong> OAI-PMH is the expiration datetime (UTC) for
        resumption tokens. Thus, a token expires after 5 minutes.</p>
    </div>
    <div id="description_oai_ratelimit">
        <h2 id="rate-limit">Rate limit</h2>
        <p>Currently no rate limiting is implemented.
        We recommend you to make no more than one request per second.</p>
    </div>
    <div id="description_oai_futuredev">
        <h2 id="future-development">Future development</h2>
        <p>Please <a href="https://figshare.com/contact">let us know</a> that you are harvesting us.
        Your input will drive the future development of the OAI-PMH protocol at figshare.</p>
    </div>
    <div id="description_oai_someexamples">
        <h2 id="some-examples">Some examples</h2>
        <p><strong>Identify</strong></p>
        <pre><code>curl https://api.figshare.com/v2/oai?verb=Identify

        &lt;?xml version='1.0' encoding='utf-8'?&gt;
        &lt;?xml-stylesheet type="text/xsl" href="/v2/static/oai2.xsl"?&gt;
        &lt;OAI-PMH xmlns="http://www.openarchives.org/OAI/2.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"&gt;
            &lt;responseDate&gt;2016-04-29T11:58:28Z&lt;/responseDate&gt;
            &lt;request verb="Identify"&gt;https://api.figshare.com/v2/oai&lt;/request&gt;
            &lt;Identify&gt;
                &lt;repositoryName&gt;figshare&lt;/repositoryName&gt;
                &lt;baseURL&gt;https://api.figshare.com/v2/oai&lt;/baseURL&gt;
                &lt;protocolVersion&gt;2.0&lt;/protocolVersion&gt;
                &lt;adminEmail&gt;info@figshare.com&lt;/adminEmail&gt;
                &lt;earliestDatestamp&gt;2010-01-08T01:24:54Z&lt;/earliestDatestamp&gt;
                &lt;deletedRecord&gt;transient&lt;/deletedRecord&gt;
                &lt;granularity&gt;YYYY-MM-DDThh:mm:ssZ&lt;/granularity&gt;
            &lt;/Identify&gt;
        &lt;/OAI-PMH&gt;
        </code></pre>
        <hr />
        <p><strong>ListSets</strong></p>
        <pre><code>curl https://api.figshare.com/v2/oai?verb=ListSets

        &lt;?xml version='1.0' encoding='utf-8'?&gt;
        &lt;?xml-stylesheet type="text/xsl" href="/v2/static/oai2.xsl"?&gt;
        &lt;OAI-PMH xmlns="http://www.openarchives.org/OAI/2.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"&gt;
             &lt;responseDate&gt;2016-04-29T12:00:46Z&lt;/responseDate&gt;
             &lt;request verb="ListSets"&gt;https://api.figshare.com/v2/oai&lt;/request&gt;
             &lt;ListSets&gt;
                 &lt;set&gt;
                     &lt;setSpec&gt;portal_147&lt;/setSpec&gt;
                     &lt;setName&gt;Karger Publishers&lt;/setName&gt;
                 &lt;/set&gt;
                 &lt;set&gt;
                     &lt;setSpec&gt;portal_144&lt;/setSpec&gt;
                     &lt;setName&gt;Digital Science&lt;/setName&gt;
                 &lt;/set&gt;
                 &lt;!-- ... --&gt;
                 &lt;set&gt;
                     &lt;setSpec&gt;portal_102&lt;/setSpec&gt;
                     &lt;setName&gt;Wiley&lt;/setName&gt;
                 &lt;/set&gt;
                 &lt;resumptionToken expirationDate="2016-04-29T13:00:46Z"&gt;dmVyYj1MaXN0U2V0cyZwYWdlPTI=&lt;/resumptionToken&gt;
            &lt;/ListSets&gt;
        &lt;/OAI-PMH&gt;
        </code></pre>
        <hr />
        <p><strong>ListIdentifiers</strong></p>
        <p>Selective harvesting: using set <code>category_539</code> (Chemical Engineering Design).</p>
        <pre><code>curl "https://api.figshare.com/v2/oai?verb=ListIdentifiers&amp;metadataPrefix=oai_dc&amp;set=category_539"

        &lt;?xml version='1.0' encoding='utf-8'?&gt;
        &lt;?xml-stylesheet type="text/xsl" href="/v2/static/oai2.xsl"?&gt;
        &lt;OAI-PMH xmlns="http://www.openarchives.org/OAI/2.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"&gt;
        &lt;responseDate&gt;2016-04-29T12:11:18Z&lt;/responseDate&gt;
        &lt;request metadataPrefix="oai_dc" set="category_539" verb="ListIdentifiers"&gt;https://api.figshare.com/v2/oai&lt;/request&gt;
            &lt;ListIdentifiers&gt;
                &lt;header&gt;
                    &lt;identifier&gt;oai:figshare.com:article/2060079&lt;/identifier&gt;
                    &lt;datestamp&gt;2016-01-04T08:32:32Z&lt;/datestamp&gt;
                    &lt;setSpec&gt;category_539&lt;/setSpec&gt;
                    &lt;setSpec&gt;category_614&lt;/setSpec&gt;
                    &lt;setSpec&gt;category_1094&lt;/setSpec&gt;
                    &lt;setSpec&gt;category_1100&lt;/setSpec&gt;
                    &lt;setSpec&gt;item_type_6&lt;/setSpec&gt;
                &lt;/header&gt;
            &lt;/ListIdentifiers&gt;
        &lt;/OAI-PMH&gt;
        </code></pre>
        <hr />
        <p><strong>ListRecords</strong></p>
        <p>Selective harvesting: only articles published <code>until</code> 2010-08-18T08:33:01Z.</p>
        <pre><code>curl "https://api.figshare.com/v2/oai?verb=ListRecords&amp;metadataPrefix=oai_dc&amp;until=2010-08-18T08:33:01Z"

        &lt;?xml version='1.0' encoding='utf-8'?&gt;
        &lt;?xml-stylesheet type="text/xsl" href="/v2/static/oai2.xsl"?&gt;
        &lt;OAI-PMH xmlns="http://www.openarchives.org/OAI/2.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"&gt;
          &lt;responseDate&gt;2016-09-29T08:03:12Z&lt;/responseDate&gt;
          &lt;request metadataPrefix="oai_dc" until="2010-08-18T08:33:01Z" verb="ListRecords"&gt;https://api.figshare.com/v2/oai&lt;/request&gt;
          &lt;ListRecords&gt;
            &lt;record&gt;
              &lt;header&gt;
                &lt;identifier&gt;oai:figshare.com:article/145088&lt;/identifier&gt;
                &lt;datestamp&gt;2010-01-08T01:24:54Z&lt;/datestamp&gt;
                &lt;setSpec&gt;category_4&lt;/setSpec&gt;
                &lt;setSpec&gt;category_12&lt;/setSpec&gt;
                &lt;setSpec&gt;portal_5&lt;/setSpec&gt;
                &lt;setSpec&gt;item_type_3&lt;/setSpec&gt;
              &lt;/header&gt;
              &lt;metadata&gt;
                &lt;oai_dc:dc xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  xmlns:dc="http://purl.org/dc/terms/" xmlns:oai_dc="http://www.openarchives.org/OAI/2.0/oai_dc/" xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd"&gt;
                    &lt;dc:title&gt;A Modular BAM Complex in the Outer Membrane of the α-Proteobacterium &amp;lt;em&amp;gt;Caulobacter crescentus&amp;lt;/em&amp;gt;&lt;/dc:title&gt;
                    &lt;dc:creator&gt;Anthony W. Purcell (105036)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Trevor Lithgow (105055)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Kipros Gabriel (189246)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Nicholas Noinaj (216256)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Sebastian Poggio (251019)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Khatira Anwari (254980)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Andrew Perry (254989)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Xenia Gatsos (254994)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Sri Harsha Ramarathinam (255001)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Nicholas A. Williamson (255006)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Susan Buchanan (255012)&lt;/dc:creator&gt;
                    &lt;dc:creator&gt;Christine Jacobs-Wagner (255016)&lt;/dc:creator&gt;
                    &lt;dc:subject&gt;Biochemistry&lt;/dc:subject&gt;
                    &lt;dc:subject&gt;Cell Biology&lt;/dc:subject&gt;
                    &lt;dc:subject&gt;modular&lt;/dc:subject&gt;
                    &lt;dc:subject&gt;bam&lt;/dc:subject&gt;
                    &lt;dc:subject&gt;membrane&lt;/dc:subject&gt;
                    &lt;dc:description&gt;&amp;lt;div&amp;gt;&amp;lt;p&amp;gt;Mitochondria are organelles derived from an intracellular α-proteobacterium. The biogenesis of mitochondria relies on the assembly of β-barrel proteins into the mitochondrial outer membrane, a process inherited from the bacterial ancestor. &amp;lt;em&amp;gt;Caulobacter crescentus&amp;lt;/em&amp;gt; is an α-proteobacterium, and the BAM (β-barrel assembly machinery) complex was purified and characterized from this model organism. Like the mitochondrial sorting and assembly machinery complex, we find the BAM complex to be modular in nature. A ∼150 kDa core BAM complex containing BamA, BamB, BamD, and BamE associates with additional modules in the outer membrane. One of these modules, Pal, is a lipoprotein that provides a means for anchorage to the peptidoglycan layer of the cell wall. We suggest the modular design of the BAM complex facilitates access to substrates from the protein translocase in the inner membrane.&amp;lt;/p&amp;gt;&amp;lt;/div&amp;gt;&lt;/dc:description&gt;
                    &lt;dc:date&gt;2010-01-08T01:24:48Z&lt;/dc:date&gt;
                    &lt;dc:type&gt;Dataset&lt;/dc:type&gt;
                    &lt;dc:identifier&gt;10.1371/journal.pone.0008619&lt;/dc:identifier&gt;
                    &lt;dc:relation&gt;https://figshare.com/articles/A_Modular_BAM_Complex_in_the_Outer_Membrane_of_the_Proteobacterium_em_Caulobacter_crescentus_em_/145088&lt;/dc:relation&gt;
                    &lt;dc:rights&gt;CC BY&lt;/dc:rights&gt;
               &lt;/oai_dc:dc&gt;
              &lt;/metadata&gt;
             &lt;/record&gt;
          &lt;/ListRecords&gt;
        &lt;/OAI-PMH&gt;
        </code></pre>
    </div>
    <div id="description_stats_home_service">
      <h1 id="figshare-statistics-service">fig<strong>share</strong> statistics service</h1>
      <p>The fig<strong>share</strong> statistics service is available at https://stats.figshare.com and
      it supports retrieving information about the number of <em>views</em>, <em>downloads</em> and <em>shares</em>
      related to items available of fig<strong>share</strong>. From here on, an event is one of <em>view</em>,
      <em>download</em> or <em>share</em>.</p>
      <p>All communication with the service is done through <em>https</em> and all data is encoded as <em>json</em>.
Optional authorization for specific endpoints is done through basic access authentication.</p>
      <ul>
        <li><a href="#authentication">Authentication</a></li>
        <li><a href="#errors">Errors</a></li>
        <li><a href="#endpoints">Endpoints</a></li>
      </ul>
    </div>
    <div id="description_stats_home_authentication">
      <h2 id="authentication">Authentication</h2>
      <p>For some specialized endpoints, access to institution specific statistics requires
      sending a <code>base64</code>-encoded pair of <code>username:password</code> in the basic authorization header:</p>
      <pre><code class="http">GET https://stats.figshare.com/lboro/top/views/article
      Authorization: Basic dGhpcyBpcyBub3QgdGhlIHJlYWwgcGFzc3dvcmQsIGZvb2wh
      </code></pre>

      <p>Please note that the analogous endpoint for retrieving statistics for items outside
      the institutional scope, requires no authentication:</p>
      <pre><code class="http">GET https://stats.figshare.com/top/views/article
      </code></pre>

    </div>


</section>
</body>
</html>
